{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getAllData}from'../utils/indexedDb';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CustomerSearchModal=_ref=>{let{customers,onSelectCustomer,onClose}=_ref;const[searchTerm,setSearchTerm]=useState('');const[filteredCustomers,setFilteredCustomers]=useState([]);useEffect(()=>{if(searchTerm.length>1){const results=customers.filter(customer=>customer.name.toLowerCase().includes(searchTerm.toLowerCase())||customer.lastName.toLowerCase().includes(searchTerm.toLowerCase())||customer.dni.includes(searchTerm));setFilteredCustomers(results);}else{setFilteredCustomers([]);}},[searchTerm,customers]);return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg dark:bg-gray-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 dark:text-white\",children:\"Buscar Cliente para Cuenta Corriente\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Buscar por nombre, apellido o DNI...\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 mb-4 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"}),filteredCustomers.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"max-h-60 overflow-y-auto border border-gray-200 rounded-md dark:border-gray-600\",children:filteredCustomers.map(customer=>/*#__PURE__*/_jsxs(\"li\",{className:\"px-4 py-3 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0 dark:hover:bg-gray-600 dark:border-gray-700 dark:text-gray-200\",onClick:()=>onSelectCustomer(customer),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium\",children:[customer.name,\" \",customer.lastName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:[\"DNI: \",customer.dni,\" | Tel: \",customer.phone]})]},customer.id))}):searchTerm.length>1&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center dark:text-gray-400\",children:\"No se encontraron clientes.\"}),searchTerm.length<=1&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center dark:text-gray-400\",children:\"Ingresa al menos 2 caracteres para buscar.\"})]})});};export default CustomerSearchModal;","map":{"version":3,"names":["React","useState","useEffect","getAllData","jsx","_jsx","jsxs","_jsxs","CustomerSearchModal","_ref","customers","onSelectCustomer","onClose","searchTerm","setSearchTerm","filteredCustomers","setFilteredCustomers","length","results","filter","customer","name","toLowerCase","includes","lastName","dni","className","children","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","type","value","onChange","e","target","placeholder","map","phone","id"],"sources":["C:/Users/lucas/Downloads/Minimarket PRO/src/components/CustomerSearchModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getAllData } from '../utils/indexedDb';\r\n\r\nconst CustomerSearchModal = ({ customers, onSelectCustomer, onClose }) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filteredCustomers, setFilteredCustomers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (searchTerm.length > 1) {\r\n      const results = customers.filter(customer =>\r\n        customer.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        customer.lastName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        customer.dni.includes(searchTerm)\r\n      );\r\n      setFilteredCustomers(results);\r\n    } else {\r\n      setFilteredCustomers([]);\r\n    }\r\n  }, [searchTerm, customers]);\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg dark:bg-gray-800\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h3 className=\"text-lg font-semibold text-gray-800 dark:text-white\">Buscar Cliente para Cuenta Corriente</h3>\r\n          <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <input\r\n          type=\"text\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          placeholder=\"Buscar por nombre, apellido o DNI...\"\r\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 mb-4 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\r\n        />\r\n\r\n        {filteredCustomers.length > 0 ? (\r\n          <ul className=\"max-h-60 overflow-y-auto border border-gray-200 rounded-md dark:border-gray-600\">\r\n            {filteredCustomers.map(customer => (\r\n              <li \r\n                key={customer.id} \r\n                className=\"px-4 py-3 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0 dark:hover:bg-gray-600 dark:border-gray-700 dark:text-gray-200\"\r\n                onClick={() => onSelectCustomer(customer)}\r\n              >\r\n                <div className=\"font-medium\">{customer.name} {customer.lastName}</div>\r\n                <div className=\"text-sm text-gray-600 dark:text-gray-400\">DNI: {customer.dni} | Tel: {customer.phone}</div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          searchTerm.length > 1 && <p className=\"text-gray-500 text-center dark:text-gray-400\">No se encontraron clientes.</p>\r\n        )}\r\n        {searchTerm.length <= 1 && <p className=\"text-gray-500 text-center dark:text-gray-400\">Ingresa al menos 2 caracteres para buscar.</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomerSearchModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}