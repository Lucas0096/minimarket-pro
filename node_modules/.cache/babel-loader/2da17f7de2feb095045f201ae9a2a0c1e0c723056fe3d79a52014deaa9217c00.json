{"ast":null,"code":"import React,{useState,useEffect}from'react';import ProductsDashboard from'./components/ProductsDashboard';import SalesDashboard from'./components/SalesDashboard';import ReportsDashboard from'./components/ReportsDashboard';import Navbar from'./components/Navbar';import LoginPage from'./components/LoginPage';import MarketsAdmin from'./components/MarketsAdmin';import CashRegisterDashboard from'./components/CashRegisterDashboard';import CurrentAccountsDashboard from'./components/CurrentAccountsDashboard';import OrdersDashboard from'./components/OrdersDashboard';import SuppliersDashboard from'./components/SuppliersDashboard';import MarkupCalculatorDashboard from'./components/MarkupCalculatorDashboard';import BackupRestoreDashboard from'./components/BackupRestoreDashboard';import WebSalesDashboard from'./components/WebSalesDashboard';import MarketSelectionModal from'./components/MarketSelectionModal';import UserManagementDashboard from'./components/UserManagementDashboard';import{getCurrentUser,logoutUser,isAdmin}from'./utils/auth';import{checkAndNotify}from'./utils/bot';import{initializeDBFromLocalStorage,syncWithBackend}from'./utils/indexedDb';// Función para detectar el tipo de dispositivo\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getDeviceType=()=>{const userAgent=navigator.userAgent;// Expresión regular completa para detectar dispositivos móviles\nconst isMobile=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|rim)|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(d|ex)|ny(g|mo)|ap(ad|im)|aq(t|u2|x3)|as(te|us)|attw|au(t|v )|aimu|aver|bi(lg|si)|br(ez|r )|bu(ck|n )|bx(id|r )|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cl(ad|uk)|co(mp|nd)|craw|da(is|eo)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(at|te)|ew(ic|id)|fg(lo|sz)|fly(?:\\-|_)|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c|ti)|hu(aw|tc)|i\\-mo|ipaq|ipon|iq(at|dv|lc)|iris|jack|jimi|kddi|kgt|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50t|\\-m|-v|490|500)|leno|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|ad|ti)|mt(p1|wv)|ne(ad|nv|on|un)|ng(01|j |m )|nl(al|dn)|nokia( ru)?|nn(02|v )|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-x|r )|phil|pire|pl(ay|uc)|pn\\-be|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-m|\\-r|f5)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|pn|to|sh)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|un|us)|sh(mo|ow)|si(em|v )|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(us|v )|sy(01|mb)|t2(mo|v )|tdg\\-|tel(i|m)|tim\\-|t\\-mo|tk(a|x)|tor(m|pt)|tr(ad|h )|ts(70|m\\-|p[ad])|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]0|\\-v)|vm40|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\\-|2|g)|yas\\-|your|zeto|zte\\-/i.test(userAgent.substr(0,4));if(isMobile){return'mobile';}// Detección de tablet más específica (ej. iPad, Android tablets)\nif(/(ipad|tablet|android(?!.*mobile))/i.test(userAgent)){return'tablet';}return'desktop';};const App=()=>{const[currentView,setCurrentView]=useState('products');const[isOnline,setIsOnline]=useState(navigator.onLine);const[currentUser,setCurrentUser]=useState(null);const[selectedMarket,setSelectedMarket]=useState(null);const[showMarketSelection,setShowMarketSelection]=useState(false);const[isLoading,setIsLoading]=useState(true);const[deviceType,setDeviceType]=useState('desktop');useEffect(()=>{const initApp=async()=>{await initializeDBFromLocalStorage();const user=getCurrentUser();setCurrentUser(user);if(user&&isAdmin(user)){setShowMarketSelection(true);}setIsLoading(false);};initApp();const handleOnline=()=>{setIsOnline(true);syncWithBackend();};const handleOffline=()=>setIsOnline(false);window.addEventListener('online',handleOnline);window.addEventListener('offline',handleOffline);setDeviceType(getDeviceType());const handleResize=()=>setDeviceType(getDeviceType());window.addEventListener('resize',handleResize);return()=>{window.removeEventListener('online',handleOnline);window.removeEventListener('offline',handleOffline);window.removeEventListener('resize',handleResize);};},[]);useEffect(()=>{if(currentUser){checkAndNotify();const botInterval=setInterval(checkAndNotify,1000*60*60);return()=>clearInterval(botInterval);}},[currentUser]);const handleLogout=()=>{logoutUser();setCurrentUser(null);setSelectedMarket(null);setCurrentView('login');};const handleLoginSuccess=user=>{setCurrentUser(user);if(isAdmin(user)){setShowMarketSelection(true);}else{setCurrentView('products');}};const handleMarketSelected=marketId=>{setSelectedMarket(marketId);setShowMarketSelection(false);setCurrentView('products');};const renderView=()=>{if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-10 text-lg font-medium dark:text-gray-300\",children:\"Cargando...\"});}if(!currentUser){return/*#__PURE__*/_jsx(LoginPage,{onLogin:handleLoginSuccess});}if(isAdmin(currentUser)&&!selectedMarket&&!['markets','backupRestore','userManagement'].includes(currentView)){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-10\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-800 dark:text-white mb-4\",children:\"Por favor, selecciona un mercado para gestionar.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMarketSelection(true),className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\",children:\"Seleccionar Mercado\"})]});}switch(currentView){case'products':return/*#__PURE__*/_jsx(ProductsDashboard,{isOnline:isOnline,selectedMarket:selectedMarket});case'sales':return/*#__PURE__*/_jsx(SalesDashboard,{isOnline:isOnline,selectedMarket:selectedMarket});case'reports':return/*#__PURE__*/_jsx(ReportsDashboard,{selectedMarket:selectedMarket});case'markets':return/*#__PURE__*/_jsx(MarketsAdmin,{onSelectMarket:setSelectedMarket});case'cashRegister':return/*#__PURE__*/_jsx(CashRegisterDashboard,{selectedMarket:selectedMarket});case'currentAccounts':return/*#__PURE__*/_jsx(CurrentAccountsDashboard,{selectedMarket:selectedMarket});case'orders':return/*#__PURE__*/_jsx(OrdersDashboard,{selectedMarket:selectedMarket});case'suppliers':return/*#__PURE__*/_jsx(SuppliersDashboard,{selectedMarket:selectedMarket});case'markupCalculator':return/*#__PURE__*/_jsx(MarkupCalculatorDashboard,{selectedMarket:selectedMarket});case'webSales':return/*#__PURE__*/_jsx(WebSalesDashboard,{selectedMarket:selectedMarket});case'backupRestore':return/*#__PURE__*/_jsx(BackupRestoreDashboard,{});case'userManagement':return/*#__PURE__*/_jsx(UserManagementDashboard,{});default:return/*#__PURE__*/_jsx(ProductsDashboard,{isOnline:isOnline,selectedMarket:selectedMarket});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900\",children:[currentUser&&/*#__PURE__*/_jsx(Navbar,{currentView:currentView,setCurrentView:setCurrentView,isOnline:isOnline,currentUser:currentUser,deviceType:deviceType,onLogout:handleLogout}),/*#__PURE__*/_jsx(\"main\",{className:\"container mx-auto px-4 py-8\",children:renderView()}),showMarketSelection&&currentUser&&isAdmin(currentUser)&&/*#__PURE__*/_jsx(MarketSelectionModal,{onSelectMarket:handleMarketSelected,onClose:()=>{}})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","ProductsDashboard","SalesDashboard","ReportsDashboard","Navbar","LoginPage","MarketsAdmin","CashRegisterDashboard","CurrentAccountsDashboard","OrdersDashboard","SuppliersDashboard","MarkupCalculatorDashboard","BackupRestoreDashboard","WebSalesDashboard","MarketSelectionModal","UserManagementDashboard","getCurrentUser","logoutUser","isAdmin","checkAndNotify","initializeDBFromLocalStorage","syncWithBackend","jsx","_jsx","jsxs","_jsxs","getDeviceType","userAgent","navigator","isMobile","test","substr","App","currentView","setCurrentView","isOnline","setIsOnline","onLine","currentUser","setCurrentUser","selectedMarket","setSelectedMarket","showMarketSelection","setShowMarketSelection","isLoading","setIsLoading","deviceType","setDeviceType","initApp","user","handleOnline","handleOffline","window","addEventListener","handleResize","removeEventListener","botInterval","setInterval","clearInterval","handleLogout","handleLoginSuccess","handleMarketSelected","marketId","renderView","className","children","onLogin","includes","onClick","onSelectMarket","onLogout","onClose"],"sources":["C:/Users/lucas/Downloads/Minimarket PRO/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ProductsDashboard from './components/ProductsDashboard';\r\nimport SalesDashboard from './components/SalesDashboard';\r\nimport ReportsDashboard from './components/ReportsDashboard';\r\nimport Navbar from './components/Navbar';\r\nimport LoginPage from './components/LoginPage';\r\nimport MarketsAdmin from './components/MarketsAdmin';\r\nimport CashRegisterDashboard from './components/CashRegisterDashboard';\r\nimport CurrentAccountsDashboard from './components/CurrentAccountsDashboard';\r\nimport OrdersDashboard from './components/OrdersDashboard';\r\nimport SuppliersDashboard from './components/SuppliersDashboard';\r\nimport MarkupCalculatorDashboard from './components/MarkupCalculatorDashboard';\r\nimport BackupRestoreDashboard from './components/BackupRestoreDashboard';\r\nimport WebSalesDashboard from './components/WebSalesDashboard';\r\nimport MarketSelectionModal from './components/MarketSelectionModal';\r\nimport UserManagementDashboard from './components/UserManagementDashboard';\r\nimport { getCurrentUser, logoutUser, isAdmin } from './utils/auth';\r\nimport { checkAndNotify } from './utils/bot';\r\nimport { initializeDBFromLocalStorage, syncWithBackend } from './utils/indexedDb';\r\n\r\n// Función para detectar el tipo de dispositivo\r\nconst getDeviceType = () => {\r\n  const userAgent = navigator.userAgent;\r\n  // Expresión regular completa para detectar dispositivos móviles\r\n  const isMobile = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|rim)|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(d|ex)|ny(g|mo)|ap(ad|im)|aq(t|u2|x3)|as(te|us)|attw|au(t|v )|aimu|aver|bi(lg|si)|br(ez|r )|bu(ck|n )|bx(id|r )|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cl(ad|uk)|co(mp|nd)|craw|da(is|eo)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(at|te)|ew(ic|id)|fg(lo|sz)|fly(?:\\-|_)|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c|ti)|hu(aw|tc)|i\\-mo|ipaq|ipon|iq(at|dv|lc)|iris|jack|jimi|kddi|kgt|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50t|\\-m|-v|490|500)|leno|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|ad|ti)|mt(p1|wv)|ne(ad|nv|on|un)|ng(01|j |m )|nl(al|dn)|nokia( ru)?|nn(02|v )|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-x|r )|phil|pire|pl(ay|uc)|pn\\-be|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-m|\\-r|f5)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|pn|to|sh)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|un|us)|sh(mo|ow)|si(em|v )|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(us|v )|sy(01|mb)|t2(mo|v )|tdg\\-|tel(i|m)|tim\\-|t\\-mo|tk(a|x)|tor(m|pt)|tr(ad|h )|ts(70|m\\-|p[ad])|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]0|\\-v)|vm40|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\\-|2|g)|yas\\-|your|zeto|zte\\-/i.test(userAgent.substr(0, 4));\r\n\r\n  if (isMobile) {\r\n    return 'mobile';\r\n  }\r\n  // Detección de tablet más específica (ej. iPad, Android tablets)\r\n  if (/(ipad|tablet|android(?!.*mobile))/i.test(userAgent)) {\r\n    return 'tablet';\r\n  }\r\n  return 'desktop';\r\n};\r\n\r\nconst App = () => {\r\n  const [currentView, setCurrentView] = useState('products');\r\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [selectedMarket, setSelectedMarket] = useState(null);\r\n  const [showMarketSelection, setShowMarketSelection] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [deviceType, setDeviceType] = useState('desktop');\r\n\r\n  useEffect(() => {\r\n    const initApp = async () => {\r\n      await initializeDBFromLocalStorage();\r\n      const user = getCurrentUser();\r\n      setCurrentUser(user);\r\n\r\n      if (user && isAdmin(user)) {\r\n        setShowMarketSelection(true);\r\n      }\r\n      setIsLoading(false);\r\n    };\r\n\r\n    initApp();\r\n\r\n    const handleOnline = () => {\r\n      setIsOnline(true);\r\n      syncWithBackend();\r\n    };\r\n    const handleOffline = () => setIsOnline(false);\r\n\r\n    window.addEventListener('online', handleOnline);\r\n    window.addEventListener('offline', handleOffline);\r\n\r\n    setDeviceType(getDeviceType());\r\n    const handleResize = () => setDeviceType(getDeviceType());\r\n    window.addEventListener('resize', handleResize);\r\n\r\n\r\n    return () => {\r\n      window.removeEventListener('online', handleOnline);\r\n      window.removeEventListener('offline', handleOffline);\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      checkAndNotify();\r\n      const botInterval = setInterval(checkAndNotify, 1000 * 60 * 60);\r\n      return () => clearInterval(botInterval);\r\n    }\r\n  }, [currentUser]);\r\n\r\n  const handleLogout = () => {\r\n    logoutUser();\r\n    setCurrentUser(null);\r\n    setSelectedMarket(null);\r\n    setCurrentView('login');\r\n  };\r\n\r\n  const handleLoginSuccess = (user) => {\r\n    setCurrentUser(user);\r\n    if (isAdmin(user)) {\r\n      setShowMarketSelection(true);\r\n    } else {\r\n      setCurrentView('products');\r\n    }\r\n  };\r\n\r\n  const handleMarketSelected = (marketId) => {\r\n    setSelectedMarket(marketId);\r\n    setShowMarketSelection(false);\r\n    setCurrentView('products');\r\n  };\r\n\r\n  const renderView = () => {\r\n    if (isLoading) {\r\n      return <div className=\"text-center py-10 text-lg font-medium dark:text-gray-300\">Cargando...</div>;\r\n    }\r\n\r\n    if (!currentUser) {\r\n      return <LoginPage onLogin={handleLoginSuccess} />;\r\n    }\r\n\r\n    if (isAdmin(currentUser) && !selectedMarket && \r\n        !['markets', 'backupRestore', 'userManagement'].includes(currentView)) {\r\n      return (\r\n        <div className=\"text-center py-10\">\r\n          <h3 className=\"text-xl font-bold text-gray-800 dark:text-white mb-4\">Por favor, selecciona un mercado para gestionar.</h3>\r\n          <button\r\n            onClick={() => setShowMarketSelection(true)}\r\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\"\r\n          >\r\n            Seleccionar Mercado\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    switch(currentView) {\r\n      case 'products': \r\n        return <ProductsDashboard isOnline={isOnline} selectedMarket={selectedMarket} />;\r\n      case 'sales': \r\n        return <SalesDashboard isOnline={isOnline} selectedMarket={selectedMarket} />;\r\n      case 'reports': \r\n        return <ReportsDashboard selectedMarket={selectedMarket} />;\r\n      case 'markets': \r\n        return <MarketsAdmin onSelectMarket={setSelectedMarket} />;\r\n      case 'cashRegister': \r\n        return <CashRegisterDashboard selectedMarket={selectedMarket} />;\r\n      case 'currentAccounts': \r\n        return <CurrentAccountsDashboard selectedMarket={selectedMarket} />;\r\n      case 'orders': \r\n        return <OrdersDashboard selectedMarket={selectedMarket} />;\r\n      case 'suppliers': \r\n        return <SuppliersDashboard selectedMarket={selectedMarket} />;\r\n      case 'markupCalculator': \r\n        return <MarkupCalculatorDashboard selectedMarket={selectedMarket} />;\r\n      case 'webSales': \r\n        return <WebSalesDashboard selectedMarket={selectedMarket} />;\r\n      case 'backupRestore': \r\n        return <BackupRestoreDashboard />;\r\n      case 'userManagement': \r\n        return <UserManagementDashboard />;\r\n      default: \r\n        return <ProductsDashboard isOnline={isOnline} selectedMarket={selectedMarket} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n      {currentUser && (\r\n        <Navbar \r\n          currentView={currentView} \r\n          setCurrentView={setCurrentView} \r\n          isOnline={isOnline}\r\n          currentUser={currentUser}\r\n          deviceType={deviceType}\r\n          onLogout={handleLogout}\r\n        />\r\n      )}\r\n      <main className=\"container mx-auto px-4 py-8\">\r\n        {renderView()}\r\n      </main>\r\n      {showMarketSelection && currentUser && isAdmin(currentUser) && (\r\n        <MarketSelectionModal onSelectMarket={handleMarketSelected} onClose={() => {}} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}