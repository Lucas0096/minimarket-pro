{"ast":null,"code":"import _objectSpread from\"C:/Users/lucas/Downloads/Minimarket PRO/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{getCurrentMarket,isAdmin,isMarket}from'../utils/auth';import CustomerForm from'./CustomerForm';import{getAllData,putData,addData,deleteData,syncLocalStorageWithIndexedDB}from'../utils/indexedDb';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CurrentAccountsDashboard=_ref=>{let{selectedMarket}=_ref;const[sales,setSales]=useState([]);const[products,setProducts]=useState([]);const[customers,setCustomers]=useState([]);const[allCustomers,setAllCustomers]=useState([]);const[selectedCustomer,setSelectedCustomer]=useState(null);const[customerSales,setCustomerSales]=useState([]);const[showCustomerForm,setShowCustomerForm]=useState(false);const[editingCustomer,setEditingCustomer]=useState(null);useEffect(()=>{const loadData=async()=>{const allSales=await getAllData('sales');const savedCustomers=await getAllData('customers');const marketToShow=isAdmin()?selectedMarket:getCurrentMarket();const filteredSales=isAdmin()&&selectedMarket?allSales.filter(s=>s.marketId===selectedMarket):allSales.filter(s=>s.marketId===marketToShow);const customersForMarket=isAdmin()&&selectedMarket?savedCustomers.filter(c=>c.marketId===selectedMarket):savedCustomers.filter(c=>c.marketId===marketToShow);setSales(filteredSales);setAllCustomers(customersForMarket);const currentAccountCustomers={};filteredSales.forEach(sale=>{if(sale.paymentMethod==='current_account'&&sale.customerName){if(!currentAccountCustomers[sale.customerName]){currentAccountCustomers[sale.customerName]={name:sale.customerName,dni:sale.customerDNI,address:sale.customerAddress,email:sale.customerEmail,phone:sale.customerPhone,totalDebt:0,sales:[]};}currentAccountCustomers[sale.customerName].totalDebt+=sale.total;currentAccountCustomers[sale.customerName].sales.push(sale);}});setCustomers(Object.values(currentAccountCustomers));};loadData();},[selectedMarket]);const handleSelectCustomer=customerName=>{const customer=customers.find(c=>c.name===customerName);setSelectedCustomer(customer);setCustomerSales(customer?customer.sales:[]);};const handleMarkAsPaid=async saleId=>{const allSales=await getAllData('sales');const updatedSales=allSales.map(sale=>sale.id===saleId?_objectSpread(_objectSpread({},sale),{},{paymentMethod:'paid_current_account',paidDate:new Date().toISOString()}):sale);await putData('sales',updatedSales.find(s=>s.id===saleId));syncLocalStorageWithIndexedDB('sales',updatedSales);const marketToShow=isAdmin()?selectedMarket:getCurrentMarket();const filteredSales=isAdmin()&&selectedMarket?updatedSales.filter(s=>s.marketId===selectedMarket):updatedSales.filter(s=>s.marketId===marketToShow);setSales(filteredSales);const currentAccountCustomers={};filteredSales.forEach(sale=>{if(sale.paymentMethod==='current_account'&&sale.customerName){if(!currentAccountCustomers[sale.customerName]){currentAccountCustomers[sale.customerName]={name:sale.customerName,dni:sale.customerDNI,address:sale.customerAddress,email:sale.customerEmail,phone:sale.customerPhone,totalDebt:0,sales:[]};}currentAccountCustomers[sale.customerName].totalDebt+=sale.total;currentAccountCustomers[sale.customerName].sales.push(sale);}});setCustomers(Object.values(currentAccountCustomers));setSelectedCustomer(null);};const handleSendReminder=customer=>{alert(\"Simulando env\\xEDo de recordatorio a \".concat(customer.name,\" (\").concat(customer.phone,\") por $\").concat(customer.totalDebt.toFixed(2)));};const handleExportCustomerHistory=customer=>{alert(\"Simulando exportaci\\xF3n de historial de \".concat(customer.name,\" a PDF/Excel.\"));};const handleSaveCustomer=async customerData=>{const marketId=isAdmin()?selectedMarket:getCurrentMarket();const customerWithMarket=_objectSpread(_objectSpread({},customerData),{},{marketId});const allExistingCustomers=await getAllData('customers');let updatedCustomers;if(editingCustomer){updatedCustomers=allExistingCustomers.map(c=>c.id===customerData.id?customerWithMarket:c);await putData('customers',customerWithMarket);}else{updatedCustomers=[...allExistingCustomers,customerWithMarket];await addData('customers',customerWithMarket);}syncLocalStorageWithIndexedDB('customers',updatedCustomers);const customersForMarket=isAdmin()&&!selectedMarket?updatedCustomers:updatedCustomers.filter(c=>c.marketId===marketId);setAllCustomers(customersForMarket);setShowCustomerForm(false);setEditingCustomer(null);};const handleEditCustomer=customer=>{setEditingCustomer(customer);setShowCustomerForm(true);};const handleDeleteCustomer=async customerId=>{await deleteData('customers',customerId);const allExistingCustomers=await getAllData('customers');syncLocalStorageWithIndexedDB('customers',allExistingCustomers);const marketToShow=isAdmin()?selectedMarket:getCurrentMarket();const customersForMarket=isAdmin()&&!selectedMarket?allExistingCustomers:allExistingCustomers.filter(c=>c.marketId===marketToShow);setAllCustomers(customersForMarket);};if(!isAdmin()&&!isMarket()){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-10 text-gray-800 dark:text-white\",children:\"Acceso no autorizado\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md dark:bg-gray-800\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 dark:text-white mb-6\",children:\"Cuentas Corrientes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-700 dark:text-gray-200\",children:\"Gesti\\xF3n de Clientes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditingCustomer(null);setShowCustomerForm(true);},className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\",children:\"Agregar Cliente\"})]}),showCustomerForm&&/*#__PURE__*/_jsx(CustomerForm,{customer:editingCustomer,onSave:handleSaveCustomer,onCancel:()=>setShowCustomerForm(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 bg-gray-50 p-4 rounded-lg shadow-inner dark:bg-gray-700\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-800 dark:text-white mb-2\",children:\"Listado de Clientes Registrados\"}),allCustomers.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-600\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-600\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Nombre Completo\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"DNI\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700\",children:allCustomers.map(customer=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\",children:[customer.name,\" \",customer.lastName]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\",children:customer.dni}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\",children:customer.phone}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditCustomer(customer),className:\"text-blue-600 hover:text-blue-900 mr-4\",children:\"Editar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteCustomer(customer.id),className:\"text-red-600 hover:text-red-900\",children:\"Eliminar\"})]})]},customer.id))})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-300\",children:\"No hay clientes registrados en este mercado.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-1 bg-gray-50 p-4 rounded-lg shadow-inner dark:bg-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-800 dark:text-white mb-4\",children:\"Clientes con Deuda\"}),customers.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:customers.map(customer=>/*#__PURE__*/_jsxs(\"li\",{className:\"p-3 rounded-md cursor-pointer flex justify-between items-center \".concat((selectedCustomer===null||selectedCustomer===void 0?void 0:selectedCustomer.name)===customer.name?'bg-blue-100 text-blue-800':'hover:bg-gray-100 dark:hover:bg-gray-600',\" dark:text-gray-300\"),onClick:()=>handleSelectCustomer(customer.name),children:[/*#__PURE__*/_jsx(\"span\",{children:customer.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-red-600\",children:[\"$\",customer.totalDebt.toFixed(2)]})]},customer.name))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-300\",children:\"No hay clientes con cuentas corrientes pendientes.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-2 bg-gray-50 p-4 rounded-lg shadow-inner dark:bg-gray-700\",children:selectedCustomer?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-800 dark:text-white mb-4\",children:[\"Detalle de Deuda: \",selectedCustomer.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 text-sm text-gray-700 dark:text-gray-300\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"DNI:\"}),\" \",selectedCustomer.dni]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Direcci\\xF3n:\"}),\" \",selectedCustomer.address]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",selectedCustomer.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tel\\xE9fono:\"}),\" \",selectedCustomer.phone]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-red-600 mt-2\",children:[\"Deuda Total: $\",selectedCustomer.totalDebt.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSendReminder(selectedCustomer),className:\"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors\",children:\"Enviar Recordatorio (WhatsApp)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleExportCustomerHistory(selectedCustomer),className:\"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors\",children:\"Exportar Historial\"})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-700 dark:text-gray-200 mb-2\",children:\"Ventas Pendientes\"}),customerSales.filter(s=>s.paymentMethod==='current_account').length>0?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-md dark:bg-gray-800\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-600\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-600\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Productos\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Acci\\xF3n\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700\",children:customerSales.filter(s=>s.paymentMethod==='current_account').map(sale=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white\",children:new Date(sale.date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 text-sm text-gray-900 dark:text-white\",children:sale.items.map(item=>item.name).join(', ')}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white\",children:[\"$\",sale.total.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMarkAsPaid(sale.id),className:\"text-green-600 hover:text-green-900\",children:\"Marcar como Pagada\"})})]},sale.id))})]})}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-300\",children:\"Este cliente no tiene ventas pendientes a cuenta corriente.\"})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-300\",children:\"Selecciona un cliente para ver su detalle de cuenta corriente.\"})})]})]});};export default CurrentAccountsDashboard;","map":{"version":3,"names":["React","useState","useEffect","getCurrentMarket","isAdmin","isMarket","CustomerForm","getAllData","putData","addData","deleteData","syncLocalStorageWithIndexedDB","jsx","_jsx","jsxs","_jsxs","CurrentAccountsDashboard","_ref","selectedMarket","sales","setSales","products","setProducts","customers","setCustomers","allCustomers","setAllCustomers","selectedCustomer","setSelectedCustomer","customerSales","setCustomerSales","showCustomerForm","setShowCustomerForm","editingCustomer","setEditingCustomer","loadData","allSales","savedCustomers","marketToShow","filteredSales","filter","s","marketId","customersForMarket","c","currentAccountCustomers","forEach","sale","paymentMethod","customerName","name","dni","customerDNI","address","customerAddress","email","customerEmail","phone","customerPhone","totalDebt","total","push","Object","values","handleSelectCustomer","customer","find","handleMarkAsPaid","saleId","updatedSales","map","id","_objectSpread","paidDate","Date","toISOString","handleSendReminder","alert","concat","toFixed","handleExportCustomerHistory","handleSaveCustomer","customerData","customerWithMarket","allExistingCustomers","updatedCustomers","handleEditCustomer","handleDeleteCustomer","customerId","className","children","onClick","onSave","onCancel","length","lastName","date","toLocaleDateString","items","item","join"],"sources":["C:/Users/lucas/Downloads/Minimarket PRO/src/components/CurrentAccountsDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getCurrentMarket, isAdmin, isMarket } from '../utils/auth';\r\nimport CustomerForm from './CustomerForm';\r\nimport { getAllData, putData, addData, deleteData, syncLocalStorageWithIndexedDB } from '../utils/indexedDb';\r\n\r\nconst CurrentAccountsDashboard = ({ selectedMarket }) => {\r\n  const [sales, setSales] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n  const [allCustomers, setAllCustomers] = useState([]);\r\n  const [selectedCustomer, setSelectedCustomer] = useState(null);\r\n  const [customerSales, setCustomerSales] = useState([]);\r\n  const [showCustomerForm, setShowCustomerForm] = useState(false);\r\n  const [editingCustomer, setEditingCustomer] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      const allSales = await getAllData('sales');\r\n      const savedCustomers = await getAllData('customers');\r\n      \r\n      const marketToShow = isAdmin() ? selectedMarket : getCurrentMarket();\r\n      const filteredSales = isAdmin() && selectedMarket ? \r\n        allSales.filter(s => s.marketId === selectedMarket) : \r\n        allSales.filter(s => s.marketId === marketToShow);\r\n      \r\n      const customersForMarket = isAdmin() && selectedMarket ? \r\n        savedCustomers.filter(c => c.marketId === selectedMarket) : \r\n        savedCustomers.filter(c => c.marketId === marketToShow);\r\n\r\n      setSales(filteredSales);\r\n      setAllCustomers(customersForMarket);\r\n\r\n      const currentAccountCustomers = {};\r\n      filteredSales.forEach(sale => {\r\n        if (sale.paymentMethod === 'current_account' && sale.customerName) {\r\n          if (!currentAccountCustomers[sale.customerName]) {\r\n            currentAccountCustomers[sale.customerName] = {\r\n              name: sale.customerName,\r\n              dni: sale.customerDNI,\r\n              address: sale.customerAddress,\r\n              email: sale.customerEmail,\r\n              phone: sale.customerPhone,\r\n              totalDebt: 0,\r\n              sales: []\r\n            };\r\n          }\r\n          currentAccountCustomers[sale.customerName].totalDebt += sale.total;\r\n          currentAccountCustomers[sale.customerName].sales.push(sale);\r\n        }\r\n      });\r\n      setCustomers(Object.values(currentAccountCustomers));\r\n    };\r\n    loadData();\r\n  }, [selectedMarket]);\r\n\r\n  const handleSelectCustomer = (customerName) => {\r\n    const customer = customers.find(c => c.name === customerName);\r\n    setSelectedCustomer(customer);\r\n    setCustomerSales(customer ? customer.sales : []);\r\n  };\r\n\r\n  const handleMarkAsPaid = async (saleId) => {\r\n    const allSales = await getAllData('sales');\r\n    const updatedSales = allSales.map(sale => \r\n      sale.id === saleId ? { ...sale, paymentMethod: 'paid_current_account', paidDate: new Date().toISOString() } : sale\r\n    );\r\n    await putData('sales', updatedSales.find(s => s.id === saleId));\r\n    syncLocalStorageWithIndexedDB('sales', updatedSales);\r\n\r\n    const marketToShow = isAdmin() ? selectedMarket : getCurrentMarket();\r\n    const filteredSales = isAdmin() && selectedMarket ? \r\n      updatedSales.filter(s => s.marketId === selectedMarket) : \r\n      updatedSales.filter(s => s.marketId === marketToShow);\r\n    setSales(filteredSales);\r\n\r\n    const currentAccountCustomers = {};\r\n    filteredSales.forEach(sale => {\r\n      if (sale.paymentMethod === 'current_account' && sale.customerName) {\r\n        if (!currentAccountCustomers[sale.customerName]) {\r\n          currentAccountCustomers[sale.customerName] = {\r\n            name: sale.customerName,\r\n            dni: sale.customerDNI,\r\n            address: sale.customerAddress,\r\n            email: sale.customerEmail,\r\n            phone: sale.customerPhone,\r\n            totalDebt: 0,\r\n            sales: []\r\n          };\r\n        }\r\n        currentAccountCustomers[sale.customerName].totalDebt += sale.total;\r\n        currentAccountCustomers[sale.customerName].sales.push(sale);\r\n      }\r\n    });\r\n    setCustomers(Object.values(currentAccountCustomers));\r\n    setSelectedCustomer(null);\r\n  };\r\n\r\n  const handleSendReminder = (customer) => {\r\n    alert(`Simulando envío de recordatorio a ${customer.name} (${customer.phone}) por $${customer.totalDebt.toFixed(2)}`);\r\n  };\r\n\r\n  const handleExportCustomerHistory = (customer) => {\r\n    alert(`Simulando exportación de historial de ${customer.name} a PDF/Excel.`);\r\n  };\r\n\r\n  const handleSaveCustomer = async (customerData) => {\r\n    const marketId = isAdmin() ? selectedMarket : getCurrentMarket();\r\n    const customerWithMarket = { ...customerData, marketId };\r\n    \r\n    const allExistingCustomers = await getAllData('customers');\r\n    let updatedCustomers;\r\n\r\n    if (editingCustomer) {\r\n      updatedCustomers = allExistingCustomers.map(c => c.id === customerData.id ? customerWithMarket : c);\r\n      await putData('customers', customerWithMarket);\r\n    } else {\r\n      updatedCustomers = [...allExistingCustomers, customerWithMarket];\r\n      await addData('customers', customerWithMarket);\r\n    }\r\n    \r\n    syncLocalStorageWithIndexedDB('customers', updatedCustomers);\r\n    \r\n    const customersForMarket = isAdmin() && !selectedMarket ? \r\n      updatedCustomers : \r\n      updatedCustomers.filter(c => c.marketId === marketId);\r\n    setAllCustomers(customersForMarket);\r\n    setShowCustomerForm(false);\r\n    setEditingCustomer(null);\r\n  };\r\n\r\n  const handleEditCustomer = (customer) => {\r\n    setEditingCustomer(customer);\r\n    setShowCustomerForm(true);\r\n  };\r\n\r\n  const handleDeleteCustomer = async (customerId) => {\r\n    await deleteData('customers', customerId);\r\n    const allExistingCustomers = await getAllData('customers');\r\n    syncLocalStorageWithIndexedDB('customers', allExistingCustomers);\r\n\r\n    const marketToShow = isAdmin() ? selectedMarket : getCurrentMarket();\r\n    const customersForMarket = isAdmin() && !selectedMarket ? \r\n      allExistingCustomers : \r\n      allExistingCustomers.filter(c => c.marketId === marketToShow);\r\n    setAllCustomers(customersForMarket);\r\n  };\r\n\r\n  if (!isAdmin() && !isMarket()) {\r\n    return <div className=\"text-center py-10 text-gray-800 dark:text-white\">Acceso no autorizado</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-lg shadow-md dark:bg-gray-800\">\r\n      <h2 className=\"text-2xl font-bold text-gray-800 dark:text-white mb-6\">Cuentas Corrientes</h2>\r\n\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h3 className=\"text-xl font-semibold text-gray-700 dark:text-gray-200\">Gestión de Clientes</h3>\r\n        <button\r\n          onClick={() => {\r\n            setEditingCustomer(null);\r\n            setShowCustomerForm(true);\r\n          }}\r\n          className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\"\r\n        >\r\n          Agregar Cliente\r\n        </button>\r\n      </div>\r\n\r\n      {showCustomerForm && (\r\n        <CustomerForm\r\n          customer={editingCustomer}\r\n          onSave={handleSaveCustomer}\r\n          onCancel={() => setShowCustomerForm(false)}\r\n        />\r\n      )}\r\n\r\n      <div className=\"mb-6 bg-gray-50 p-4 rounded-lg shadow-inner dark:bg-gray-700\">\r\n        <h4 className=\"text-lg font-medium text-gray-800 dark:text-white mb-2\">Listado de Clientes Registrados</h4>\r\n        {allCustomers.length > 0 ? (\r\n          <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-600\">\r\n            <thead className=\"bg-gray-50 dark:bg-gray-600\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">Nombre Completo</th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">DNI</th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">Teléfono</th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">Acciones</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700\">\r\n              {allCustomers.map(customer => (\r\n                <tr key={customer.id}>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\">{customer.name} {customer.lastName}</td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">{customer.dni}</td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">{customer.phone}</td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                    <button\r\n                      onClick={() => handleEditCustomer(customer)}\r\n                      className=\"text-blue-600 hover:text-blue-900 mr-4\"\r\n                    >\r\n                      Editar\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDeleteCustomer(customer.id)}\r\n                      className=\"text-red-600 hover:text-red-900\"\r\n                    >\r\n                      Eliminar\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <p className=\"text-gray-500 dark:text-gray-300\">No hay clientes registrados en este mercado.</p>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <div className=\"md:col-span-1 bg-gray-50 p-4 rounded-lg shadow-inner dark:bg-gray-700\">\r\n          <h3 className=\"text-lg font-medium text-gray-800 dark:text-white mb-4\">Clientes con Deuda</h3>\r\n          {customers.length > 0 ? (\r\n            <ul className=\"space-y-2\">\r\n              {customers.map(customer => (\r\n                <li \r\n                  key={customer.name} \r\n                  className={`p-3 rounded-md cursor-pointer flex justify-between items-center ${selectedCustomer?.name === customer.name ? 'bg-blue-100 text-blue-800' : 'hover:bg-gray-100 dark:hover:bg-gray-600'} dark:text-gray-300`}\r\n                  onClick={() => handleSelectCustomer(customer.name)}\r\n                >\r\n                  <span>{customer.name}</span>\r\n                  <span className=\"font-bold text-red-600\">${customer.totalDebt.toFixed(2)}</span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          ) : (\r\n            <p className=\"text-gray-500 dark:text-gray-300\">No hay clientes con cuentas corrientes pendientes.</p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"md:col-span-2 bg-gray-50 p-4 rounded-lg shadow-inner dark:bg-gray-700\">\r\n          {selectedCustomer ? (\r\n            <div>\r\n              <h3 className=\"text-lg font-medium text-gray-800 dark:text-white mb-4\">Detalle de Deuda: {selectedCustomer.name}</h3>\r\n              <div className=\"mb-4 text-sm text-gray-700 dark:text-gray-300\">\r\n                <p><strong>DNI:</strong> {selectedCustomer.dni}</p>\r\n                <p><strong>Dirección:</strong> {selectedCustomer.address}</p>\r\n                <p><strong>Email:</strong> {selectedCustomer.email}</p>\r\n                <p><strong>Teléfono:</strong> {selectedCustomer.phone}</p>\r\n                <p className=\"text-xl font-bold text-red-600 mt-2\">Deuda Total: ${selectedCustomer.totalDebt.toFixed(2)}</p>\r\n              </div>\r\n\r\n              <div className=\"flex space-x-2 mb-4\">\r\n                <button\r\n                  onClick={() => handleSendReminder(selectedCustomer)}\r\n                  className=\"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors\"\r\n                >\r\n                  Enviar Recordatorio (WhatsApp)\r\n                </button>\r\n                <button\r\n                  onClick={() => handleExportCustomerHistory(selectedCustomer)}\r\n                  className=\"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors\"\r\n                >\r\n                  Exportar Historial\r\n                </button>\r\n              </div>\r\n\r\n              <h4 className=\"text-md font-medium text-gray-700 dark:text-gray-200 mb-2\">Ventas Pendientes</h4>\r\n              {customerSales.filter(s => s.paymentMethod === 'current_account').length > 0 ? (\r\n                <div className=\"bg-white p-4 rounded-md dark:bg-gray-800\">\r\n                  <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-600\">\r\n                    <thead className=\"bg-gray-50 dark:bg-gray-600\">\r\n                      <tr>\r\n                        <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">Fecha</th>\r\n                        <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">Productos</th>\r\n                        <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">Total</th>\r\n                        <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">Acción</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700\">\r\n                      {customerSales.filter(s => s.paymentMethod === 'current_account').map(sale => (\r\n                        <tr key={sale.id}>\r\n                          <td className=\"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white\">{new Date(sale.date).toLocaleDateString()}</td>\r\n                          <td className=\"px-4 py-2 text-sm text-gray-900 dark:text-white\">{sale.items.map(item => item.name).join(', ')}</td>\r\n                          <td className=\"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white\">${sale.total.toFixed(2)}</td>\r\n                          <td className=\"px-4 py-2 whitespace-nowrap text-sm font-medium\">\r\n                            <button\r\n                              onClick={() => handleMarkAsPaid(sale.id)}\r\n                              className=\"text-green-600 hover:text-green-900\"\r\n                            >\r\n                              Marcar como Pagada\r\n                            </button>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-gray-500 dark:text-gray-300\">Este cliente no tiene ventas pendientes a cuenta corriente.</p>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-gray-500 dark:text-gray-300\">Selecciona un cliente para ver su detalle de cuenta corriente.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CurrentAccountsDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}