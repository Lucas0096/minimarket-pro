{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=_ref=>{let{products,onEdit,onDelete}=_ref;const getExpiryStatus=lots=>{if(!lots||lots.length===0)return null;const today=new Date();const thirtyDaysFromNow=new Date();thirtyDaysFromNow.setDate(today.getDate()+30);const soonToExpireLots=lots.filter(lot=>new Date(lot.expiryDate)>today&&new Date(lot.expiryDate)<=thirtyDaysFromNow&&lot.quantity>0);const expiredLots=lots.filter(lot=>new Date(lot.expiryDate)<=today&&lot.quantity>0);if(expiredLots.length>0){return'expired';// Hay lotes vencidos\n}else if(soonToExpireLots.length>0){return'soon';// Hay lotes por vencer en 30 días\n}return null;};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow overflow-hidden sm:rounded-lg dark:bg-gray-800\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-600\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Producto\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Categor\\xEDa\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Unidad\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Precio\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Stock\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Alertas\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700\",children:products.sort((a,b)=>a.name.localeCompare(b.name)).map(product=>{const expiryStatus=getExpiryStatus(product.lots);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[product.image&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-10 w-10\",children:/*#__PURE__*/_jsx(\"img\",{className:\"h-10 w-10 rounded-full object-cover\",src:product.image,alt:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:product.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:product.barcode})]})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900 dark:text-white\",children:product.category}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:product.subcategory})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900 dark:text-white\",children:product.unit})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-900 dark:text-white\",children:[\"$\",product.price.toFixed(2)]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900 dark:text-white\",children:product.stock})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[expiryStatus==='expired'&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800\",children:\"Vencido\"}),expiryStatus==='soon'&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800\",children:\"Por vencer\"}),product.stock<=product.minStock&&product.minStock>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800\",children:\"Bajo Stock\"})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onEdit(product),className:\"text-blue-600 hover:text-blue-900 mr-4\",children:\"Editar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(product.id),className:\"text-red-600 hover:text-red-900\",children:\"Eliminar\"})]})]},product.id);})})]})});};export default ProductList;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","ProductList","_ref","products","onEdit","onDelete","getExpiryStatus","lots","length","today","Date","thirtyDaysFromNow","setDate","getDate","soonToExpireLots","filter","lot","expiryDate","quantity","expiredLots","className","children","scope","sort","a","b","name","localeCompare","map","product","expiryStatus","image","src","alt","barcode","category","subcategory","unit","price","toFixed","stock","minStock","onClick","id"],"sources":["C:/Users/lucas/Downloads/Minimarket PRO/src/components/ProductList.js"],"sourcesContent":["import React from 'react';\r\n\r\nconst ProductList = ({ products, onEdit, onDelete }) => {\r\n  const getExpiryStatus = (lots) => {\r\n    if (!lots || lots.length === 0) return null;\r\n\r\n    const today = new Date();\r\n    const thirtyDaysFromNow = new Date();\r\n    thirtyDaysFromNow.setDate(today.getDate() + 30);\r\n\r\n    const soonToExpireLots = lots.filter(lot => \r\n      new Date(lot.expiryDate) > today && new Date(lot.expiryDate) <= thirtyDaysFromNow && lot.quantity > 0\r\n    );\r\n    const expiredLots = lots.filter(lot => \r\n      new Date(lot.expiryDate) <= today && lot.quantity > 0\r\n    );\r\n\r\n    if (expiredLots.length > 0) {\r\n      return 'expired'; // Hay lotes vencidos\r\n    } else if (soonToExpireLots.length > 0) {\r\n      return 'soon'; // Hay lotes por vencer en 30 días\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white shadow overflow-hidden sm:rounded-lg dark:bg-gray-800\">\r\n      <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-600\">\r\n        <thead className=\"bg-gray-50 dark:bg-gray-700\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">\r\n              Producto\r\n            </th>\r\n            <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">\r\n              Categoría\r\n            </th>\r\n            <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">\r\n              Unidad\r\n            </th>\r\n            <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">\r\n              Precio\r\n            </th>\r\n            <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">\r\n              Stock\r\n            </th>\r\n            <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">\r\n              Alertas\r\n            </th>\r\n            <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">\r\n              Acciones\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700\">\r\n          {products.sort((a, b) => a.name.localeCompare(b.name)).map((product) => {\r\n            const expiryStatus = getExpiryStatus(product.lots);\r\n            return (\r\n              <tr key={product.id}>\r\n                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                  <div className=\"flex items-center\">\r\n                    {product.image && (\r\n                      <div className=\"flex-shrink-0 h-10 w-10\">\r\n                        <img className=\"h-10 w-10 rounded-full object-cover\" src={product.image} alt={product.name} />\r\n                      </div>\r\n                    )}\r\n                    <div className=\"ml-4\">\r\n                      <div className=\"text-sm font-medium text-gray-900 dark:text-white\">{product.name}</div>\r\n                      <div className=\"text-sm text-gray-500 dark:text-gray-400\">{product.barcode}</div>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                  <div className=\"text-sm text-gray-900 dark:text-white\">{product.category}</div>\r\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400\">{product.subcategory}</div>\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                  <div className=\"text-sm text-gray-900 dark:text-white\">{product.unit}</div>\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                  <div className=\"text-sm text-gray-900 dark:text-white\">${product.price.toFixed(2)}</div>\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                  <div className=\"text-sm text-gray-900 dark:text-white\">{product.stock}</div>\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                  {expiryStatus === 'expired' && (\r\n                    <span className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800\">\r\n                      Vencido\r\n                    </span>\r\n                  )}\r\n                  {expiryStatus === 'soon' && (\r\n                    <span className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800\">\r\n                      Por vencer\r\n                    </span>\r\n                  )}\r\n                  {product.stock <= product.minStock && product.minStock > 0 && (\r\n                    <span className=\"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800\">\r\n                      Bajo Stock\r\n                    </span>\r\n                  )}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                  <button\r\n                    onClick={() => onEdit(product)}\r\n                    className=\"text-blue-600 hover:text-blue-900 mr-4\"\r\n                  >\r\n                    Editar\r\n                  </button>\r\n                  <button\r\n                    onClick={() => onDelete(product.id)}\r\n                    className=\"text-red-600 hover:text-red-900\"\r\n                  >\r\n                    Eliminar\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}