{"ast":null,"code":"import _objectSpread from\"C:/Users/lucas/OneDrive/Documentos/Minimarket PRO/Version 1.0/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{getCurrentMarket,isAdmin,isMarket}from'../utils/auth';import{getAllData,putData,addData,syncLocalStorageWithIndexedDB}from'../utils/indexedDb';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OrdersDashboard=_ref=>{let{selectedMarket}=_ref;const[products,setProducts]=useState([]);const[suppliers,setSuppliers]=useState([]);const[orders,setOrders]=useState({});// { supplierId: [{ product, quantity }] }\nconst[manualSupplier,setManualSupplier]=useState('');// Para seleccionar proveedor en adición manual\nconst[manualProductId,setManualProductId]=useState('');// Para seleccionar producto en adición manual\nconst[manualQuantity,setManualQuantity]=useState(1);// Cantidad para adición manual\nuseEffect(()=>{const loadData=async()=>{const allProducts=await getAllData('products');const allSuppliers=await getAllData('suppliers');const allSales=await getAllData('sales');const marketToShow=isAdmin()?selectedMarket:getCurrentMarket();const filteredProducts=isAdmin()&&selectedMarket?allProducts.filter(p=>p.marketId===selectedMarket):allProducts.filter(p=>p.marketId===marketToShow);const filteredSuppliers=isAdmin()&&selectedMarket?allSuppliers.filter(s=>s.marketId===selectedMarket):allSuppliers.filter(s=>s.marketId===marketToShow);setProducts(filteredProducts);setSuppliers(filteredSuppliers);generateAutomaticOrders(filteredProducts,allSales,filteredSuppliers);};loadData();},[selectedMarket]);const generateAutomaticOrders=(currentProducts,allSales,currentSuppliers)=>{const newOrders={};const marketId=isAdmin()?selectedMarket:getCurrentMarket();const salesForMarket=allSales.filter(s=>s.marketId===marketId);currentProducts.forEach(product=>{if(product.stock<=product.minStock){const supplier=currentSuppliers.find(s=>s.id===product.supplier);const supplierName=supplier?\"\".concat(supplier.name,\" \").concat(supplier.lastName):'Sin Proveedor';if(!newOrders[supplierName]){newOrders[supplierName]=[];}let suggestedQuantity=0;const productSalesHistory=salesForMarket.filter(sale=>sale.items.some(item=>item.productId===product.id));if(productSalesHistory.length>0){const oneMonthAgo=new Date();oneMonthAgo.setMonth(oneMonthAgo.getMonth()-1);const salesLastMonth=productSalesHistory.filter(sale=>new Date(sale.date)>=oneMonthAgo);if(salesLastMonth.length>0){const totalSoldLastMonth=salesLastMonth.reduce((sum,sale)=>{const item=sale.items.find(i=>i.productId===product.id);return sum+(item?item.quantity:0);},0);suggestedQuantity=Math.ceil(totalSoldLastMonth/(salesLastMonth.length/30))*30;if(suggestedQuantity<product.minStock*2){suggestedQuantity=product.minStock*2;}}else{suggestedQuantity=product.minStock*2;}}else{suggestedQuantity=10;}suggestedQuantity=Math.max(suggestedQuantity,product.minStock-product.stock);newOrders[supplierName].push({product:product,quantity:suggestedQuantity});}});setOrders(newOrders);};const handleManualAddProduct=(supplierName,productId,quantity)=>{const productToAdd=products.find(p=>p.id===productId);if(!productToAdd||quantity<=0)return;setOrders(prevOrders=>{const updatedOrders=_objectSpread({},prevOrders);if(!updatedOrders[supplierName]){updatedOrders[supplierName]=[];}const existingItemIndex=updatedOrders[supplierName].findIndex(item=>item.product.id===productId);if(existingItemIndex>-1){updatedOrders[supplierName][existingItemIndex].quantity+=quantity;}else{updatedOrders[supplierName].push({product:productToAdd,quantity:quantity});}return updatedOrders;});};const handleRemoveProduct=(supplierName,productId)=>{setOrders(prevOrders=>{const updatedOrders=_objectSpread({},prevOrders);if(updatedOrders[supplierName]){updatedOrders[supplierName]=updatedOrders[supplierName].filter(item=>item.product.id!==productId);if(updatedOrders[supplierName].length===0){delete updatedOrders[supplierName];}}return updatedOrders;});};const handleQuantityChange=(supplierName,productId,newQuantity)=>{setOrders(prevOrders=>{const updatedOrders=_objectSpread({},prevOrders);if(updatedOrders[supplierName]){const itemIndex=updatedOrders[supplierName].findIndex(item=>item.product.id===productId);if(itemIndex>-1){updatedOrders[supplierName][itemIndex].quantity=parseInt(newQuantity)||0;}}return updatedOrders;});};const handleAddManualItemToOrder=()=>{if(!manualSupplier||!manualProductId||manualQuantity<=0){alert('Por favor, selecciona un proveedor, un producto y una cantidad.');return;}const supplierObj=suppliers.find(s=>s.id===manualSupplier);const supplierName=supplierObj?\"\".concat(supplierObj.name,\" \").concat(supplierObj.lastName):'Sin Proveedor';handleManualAddProduct(supplierName,parseInt(manualProductId),manualQuantity);setManualSupplier('');setManualProductId('');setManualQuantity(1);};if(!isAdmin()&&!isMarket()){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-10 text-gray-800 dark:text-white\",children:\"Acceso no autorizado\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md dark:bg-gray-800\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 dark:text-white mb-6\",children:\"Gesti\\xF3n de Pedidos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>generateAutomaticOrders(products,JSON.parse(localStorage.getItem('sales'))||[],suppliers),className:\"mb-6 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\",children:\"Generar Pedidos Autom\\xE1ticos\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 p-4 border border-gray-200 rounded-lg shadow-sm dark:bg-gray-700 dark:border-gray-600\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800 dark:text-white mb-4\",children:\"Agregar Producto Manualmente\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:manualSupplier,onChange:e=>{setManualSupplier(e.target.value);setManualProductId('');// Resetear producto al cambiar proveedor\n},className:\"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccionar Proveedor\"}),suppliers.map(supplier=>/*#__PURE__*/_jsxs(\"option\",{value:supplier.id,children:[supplier.name,\" \",supplier.lastName]},supplier.id))]}),/*#__PURE__*/_jsxs(\"select\",{value:manualProductId,onChange:e=>setManualProductId(e.target.value),className:\"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\",disabled:!manualSupplier,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccionar Producto\"}),products.filter(p=>p.supplier===manualSupplier).map(p=>/*#__PURE__*/_jsx(\"option\",{value:p.id,children:p.name},p.id))]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:manualQuantity,onChange:e=>setManualQuantity(parseInt(e.target.value)||1),placeholder:\"Cantidad\",className:\"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddManualItemToOrder,className:\"mt-4 w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors\",children:\"Agregar al Pedido\"})]}),Object.keys(orders).length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-300\",children:\"No hay pedidos autom\\xE1ticos generados o todos los productos est\\xE1n en stock.\"}):Object.entries(orders).map(_ref2=>{let[supplier,items]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 p-4 border border-gray-200 rounded-lg shadow-sm dark:bg-gray-700 dark:border-gray-600\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold text-gray-800 dark:text-white mb-4\",children:[\"Proveedor: \",supplier]}),/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-600\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-600\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Producto\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Stock Actual\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Cantidad a Pedir\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700\",children:items.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\",children:item.product.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\",children:item.product.stock}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",value:item.quantity,onChange:e=>handleQuantityChange(supplier,item.product.id,e.target.value),className:\"w-24 px-2 py-1 border border-gray-300 rounded-md text-center dark:bg-gray-600 dark:border-gray-500 dark:text-white\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveProduct(supplier,item.product.id),className:\"text-red-600 hover:text-red-900\",children:\"Eliminar\"})})]},item.product.id))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\",children:\"Enviar Pedido (Simulado)\"})]},supplier);})]});};export default OrdersDashboard;","map":{"version":3,"names":["React","useState","useEffect","getCurrentMarket","isAdmin","isMarket","getAllData","putData","addData","syncLocalStorageWithIndexedDB","jsx","_jsx","jsxs","_jsxs","OrdersDashboard","_ref","selectedMarket","products","setProducts","suppliers","setSuppliers","orders","setOrders","manualSupplier","setManualSupplier","manualProductId","setManualProductId","manualQuantity","setManualQuantity","loadData","allProducts","allSuppliers","allSales","marketToShow","filteredProducts","filter","p","marketId","filteredSuppliers","s","generateAutomaticOrders","currentProducts","currentSuppliers","newOrders","salesForMarket","forEach","product","stock","minStock","supplier","find","id","supplierName","concat","name","lastName","suggestedQuantity","productSalesHistory","sale","items","some","item","productId","length","oneMonthAgo","Date","setMonth","getMonth","salesLastMonth","date","totalSoldLastMonth","reduce","sum","i","quantity","Math","ceil","max","push","handleManualAddProduct","productToAdd","prevOrders","updatedOrders","_objectSpread","existingItemIndex","findIndex","handleRemoveProduct","handleQuantityChange","newQuantity","itemIndex","parseInt","handleAddManualItemToOrder","alert","supplierObj","className","children","onClick","JSON","parse","localStorage","getItem","value","onChange","e","target","map","disabled","type","min","placeholder","Object","keys","entries","_ref2"],"sources":["C:/Users/lucas/OneDrive/Documentos/Minimarket PRO/Version 1.0/src/components/OrdersDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getCurrentMarket, isAdmin, isMarket } from '../utils/auth';\nimport { getAllData, putData, addData, syncLocalStorageWithIndexedDB } from '../utils/indexedDb';\n\nconst OrdersDashboard = ({ selectedMarket }) => {\n  const [products, setProducts] = useState([]);\n  const [suppliers, setSuppliers] = useState([]);\n  const [orders, setOrders] = useState({}); // { supplierId: [{ product, quantity }] }\n  const [manualSupplier, setManualSupplier] = useState(''); // Para seleccionar proveedor en adición manual\n  const [manualProductId, setManualProductId] = useState(''); // Para seleccionar producto en adición manual\n  const [manualQuantity, setManualQuantity] = useState(1); // Cantidad para adición manual\n\n  useEffect(() => {\n    const loadData = async () => {\n      const allProducts = await getAllData('products');\n      const allSuppliers = await getAllData('suppliers');\n      const allSales = await getAllData('sales');\n\n      const marketToShow = isAdmin() ? selectedMarket : getCurrentMarket();\n      const filteredProducts = isAdmin() && selectedMarket ? \n        allProducts.filter(p => p.marketId === selectedMarket) : \n        allProducts.filter(p => p.marketId === marketToShow);\n      \n      const filteredSuppliers = isAdmin() && selectedMarket ?\n        allSuppliers.filter(s => s.marketId === selectedMarket) :\n        allSuppliers.filter(s => s.marketId === marketToShow);\n\n      setProducts(filteredProducts);\n      setSuppliers(filteredSuppliers);\n\n      generateAutomaticOrders(filteredProducts, allSales, filteredSuppliers);\n    };\n    loadData();\n  }, [selectedMarket]);\n\n  const generateAutomaticOrders = (currentProducts, allSales, currentSuppliers) => {\n    const newOrders = {};\n    const marketId = isAdmin() ? selectedMarket : getCurrentMarket();\n    const salesForMarket = allSales.filter(s => s.marketId === marketId);\n\n    currentProducts.forEach(product => {\n      if (product.stock <= product.minStock) {\n        const supplier = currentSuppliers.find(s => s.id === product.supplier);\n        const supplierName = supplier ? `${supplier.name} ${supplier.lastName}` : 'Sin Proveedor';\n        \n        if (!newOrders[supplierName]) {\n          newOrders[supplierName] = [];\n        }\n\n        let suggestedQuantity = 0;\n        const productSalesHistory = salesForMarket.filter(sale => \n          sale.items.some(item => item.productId === product.id)\n        );\n\n        if (productSalesHistory.length > 0) {\n          const oneMonthAgo = new Date();\n          oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);\n          const salesLastMonth = productSalesHistory.filter(sale => new Date(sale.date) >= oneMonthAgo);\n          \n          if (salesLastMonth.length > 0) {\n            const totalSoldLastMonth = salesLastMonth.reduce((sum, sale) => {\n              const item = sale.items.find(i => i.productId === product.id);\n              return sum + (item ? item.quantity : 0);\n            }, 0);\n            suggestedQuantity = Math.ceil(totalSoldLastMonth / (salesLastMonth.length / 30)) * 30;\n            if (suggestedQuantity < product.minStock * 2) {\n              suggestedQuantity = product.minStock * 2;\n            }\n          } else {\n            suggestedQuantity = product.minStock * 2;\n          }\n        } else {\n          suggestedQuantity = 10;\n        }\n        \n        suggestedQuantity = Math.max(suggestedQuantity, product.minStock - product.stock);\n\n        newOrders[supplierName].push({\n          product: product,\n          quantity: suggestedQuantity\n        });\n      }\n    });\n    setOrders(newOrders);\n  };\n\n  const handleManualAddProduct = (supplierName, productId, quantity) => {\n    const productToAdd = products.find(p => p.id === productId);\n    if (!productToAdd || quantity <= 0) return;\n\n    setOrders(prevOrders => {\n      const updatedOrders = { ...prevOrders };\n      if (!updatedOrders[supplierName]) {\n        updatedOrders[supplierName] = [];\n      }\n      const existingItemIndex = updatedOrders[supplierName].findIndex(item => item.product.id === productId);\n      if (existingItemIndex > -1) {\n        updatedOrders[supplierName][existingItemIndex].quantity += quantity;\n      } else {\n        updatedOrders[supplierName].push({ product: productToAdd, quantity: quantity });\n      }\n      return updatedOrders;\n    });\n  };\n\n  const handleRemoveProduct = (supplierName, productId) => {\n    setOrders(prevOrders => {\n      const updatedOrders = { ...prevOrders };\n      if (updatedOrders[supplierName]) {\n        updatedOrders[supplierName] = updatedOrders[supplierName].filter(item => item.product.id !== productId);\n        if (updatedOrders[supplierName].length === 0) {\n          delete updatedOrders[supplierName];\n        }\n      }\n      return updatedOrders;\n    });\n  };\n\n  const handleQuantityChange = (supplierName, productId, newQuantity) => {\n    setOrders(prevOrders => {\n      const updatedOrders = { ...prevOrders };\n      if (updatedOrders[supplierName]) {\n        const itemIndex = updatedOrders[supplierName].findIndex(item => item.product.id === productId);\n        if (itemIndex > -1) {\n          updatedOrders[supplierName][itemIndex].quantity = parseInt(newQuantity) || 0;\n        }\n      }\n      return updatedOrders;\n    });\n  };\n\n  const handleAddManualItemToOrder = () => {\n    if (!manualSupplier || !manualProductId || manualQuantity <= 0) {\n      alert('Por favor, selecciona un proveedor, un producto y una cantidad.');\n      return;\n    }\n    const supplierObj = suppliers.find(s => s.id === manualSupplier);\n    const supplierName = supplierObj ? `${supplierObj.name} ${supplierObj.lastName}` : 'Sin Proveedor';\n    handleManualAddProduct(supplierName, parseInt(manualProductId), manualQuantity);\n    setManualSupplier('');\n    setManualProductId('');\n    setManualQuantity(1);\n  };\n\n  if (!isAdmin() && !isMarket()) {\n    return <div className=\"text-center py-10 text-gray-800 dark:text-white\">Acceso no autorizado</div>;\n  }\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg shadow-md dark:bg-gray-800\">\n      <h2 className=\"text-2xl font-bold text-gray-800 dark:text-white mb-6\">Gestión de Pedidos</h2>\n\n      <button\n        onClick={() => generateAutomaticOrders(products, JSON.parse(localStorage.getItem('sales')) || [], suppliers)}\n        className=\"mb-6 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\"\n      >\n        Generar Pedidos Automáticos\n      </button>\n\n      <div className=\"mb-8 p-4 border border-gray-200 rounded-lg shadow-sm dark:bg-gray-700 dark:border-gray-600\">\n        <h3 className=\"text-xl font-semibold text-gray-800 dark:text-white mb-4\">Agregar Producto Manualmente</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <select\n            value={manualSupplier}\n            onChange={(e) => {\n              setManualSupplier(e.target.value);\n              setManualProductId(''); // Resetear producto al cambiar proveedor\n            }}\n            className=\"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n          >\n            <option value=\"\">Seleccionar Proveedor</option>\n            {suppliers.map(supplier => (\n              <option key={supplier.id} value={supplier.id}>{supplier.name} {supplier.lastName}</option>\n            ))}\n          </select>\n          <select\n            value={manualProductId}\n            onChange={(e) => setManualProductId(e.target.value)}\n            className=\"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n            disabled={!manualSupplier}\n          >\n            <option value=\"\">Seleccionar Producto</option>\n            {products.filter(p => p.supplier === manualSupplier).map(p => (\n              <option key={p.id} value={p.id}>{p.name}</option>\n            ))}\n          </select>\n          <input\n            type=\"number\"\n            min=\"1\"\n            value={manualQuantity}\n            onChange={(e) => setManualQuantity(parseInt(e.target.value) || 1)}\n            placeholder=\"Cantidad\"\n            className=\"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n          />\n        </div>\n        <button\n          onClick={handleAddManualItemToOrder}\n          className=\"mt-4 w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors\"\n        >\n          Agregar al Pedido\n        </button>\n      </div>\n\n      {Object.keys(orders).length === 0 ? (\n        <p className=\"text-gray-500 dark:text-gray-300\">No hay pedidos automáticos generados o todos los productos están en stock.</p>\n      ) : (\n        Object.entries(orders).map(([supplier, items]) => (\n          <div key={supplier} className=\"mb-8 p-4 border border-gray-200 rounded-lg shadow-sm dark:bg-gray-700 dark:border-gray-600\">\n            <h3 className=\"text-xl font-semibold text-gray-800 dark:text-white mb-4\">Proveedor: {supplier}</h3>\n            <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-600\">\n              <thead className=\"bg-gray-50 dark:bg-gray-600\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">Producto</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">Stock Actual</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">Cantidad a Pedir</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300\">Acciones</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700\">\n                {items.map(item => (\n                  <tr key={item.product.id}>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\">{item.product.name}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">{item.product.stock}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        value={item.quantity}\n                        onChange={(e) => handleQuantityChange(supplier, item.product.id, e.target.value)}\n                        className=\"w-24 px-2 py-1 border border-gray-300 rounded-md text-center dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n                      />\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <button\n                        onClick={() => handleRemoveProduct(supplier, item.product.id)}\n                        className=\"text-red-600 hover:text-red-900\"\n                      >\n                        Eliminar\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n            <button className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\">\n              Enviar Pedido (Simulado)\n            </button>\n          </div>\n        ))\n      )}\n    </div>\n  );\n};\n\nexport default OrdersDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}